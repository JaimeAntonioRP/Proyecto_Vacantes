<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIREVA - Inicio</title>
    <link rel="stylesheet" href="{% static 'app/style-home.css' %}">
</head>
<body>
    <header class="header">
        <h1>SIREVA CUSCO</h1>
        <div class="user-info">
            <span>{{ nombre_usuario }}</span>
            <span>{{ ap_usuario }}</span>
            <a href="{% url 'perfil'%}">
                {% if usuario.foto_perfil %}
                    <img src="{{ usuario.foto_perfil.url }}" alt="Foto del Usuario">
                {% else %}
                    <img src="{% static 'app/perfil.png' %}" alt="Foto del Usuario">
                {% endif %}
            </a>
            <!--<img src="{% static 'app/perfil.png' %}" alt="Foto del Usuario">-->
            <a href="{% url 'logout' %}" class="logout-button">Cerrar sesión</a>
        </div>
    </header>

    <main class="main-container">
        {% if tipo_usuario == "REGIONAL" %}
            <img src="{% static 'app/img/logo.jpeg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
            <section class="panel">
                <h3>Panel de Usuario Regional</h3>
                <div class="button-group">
                    <a href="{% url 'crear_usuario' %}" class="button">
                        <img src="{% static 'app/crear_usuario.png' %}" alt="Crear Usuario">
                        <span>Crear Usuario</span>
                    </a>
                    <a href="{% url 'generar_reporte' %}" class="button">
                        <img src="{% static 'app/generar_reporte.png' %}" alt="Generar Reporte de Vacantes">
                        <span>Generar Reporte de Vacantes</span>
                    </a>
                    <a href="{% url 'control_usuarios' %}" class="button">
                        <img src="{% static 'app/control_usuarios.png' %}" alt="Control de Usuarios UGEL">
                        <span>Control de Usuarios UGEL</span>
                    </a>
                    <a href="{% url 'registrar_colegios' %}" class="button">
                        <img src="{% static 'app/registrar_colegios.png' %}" alt="Registrar Colegios">
                        <span>Registrar Colegios</span>
                    </a>
                    <a href="{% url 'generar_backup' %}" class="button">
                        <img src="{% static 'app/generar_backup.png' %}" alt="Generar Backup">
                        <span>Generar Backup</span>
                    </a>
                    <a href="#" class="button" onclick="openModal()">
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Carga de Datos de Colegios">
                        <span>Carga de Datos IE</span>
                    </a>
                    <a href="{% static 'app/plantillas/colegios.csv' %}" class="button" download>
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Descargar plantilla de Colegios">
                        <span>Descargar Plantilla IE CSV</span>
                    </a>    
                    <a href="#" class="button" onclick="openModal1()">
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Carga de Datos de Directores">
                        <span>Carga de Datos Directores</span>
                    </a>
                    <a href="{% static 'app/plantillas/directores.csv' %}" class="button" download>
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Descargar Plantilla de Directores">
                        <span>Descargar Plantilla de Directores CSV</span>
                    </a>   
            </section>
        {% elif tipo_usuario == "UGEL" %}
            <section class="panel">
                <h3>Panel de Usuario {{request.user.ugel.nombre}}</h3> 
                {% if request.user.ugel.nombre == "UGEL ACOMAYO" %}
                    <img src="{% static 'app/img/ugel-acomayo.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL ANTA" %}
                    <img src="{% static 'app/img/ugel-anta.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL CALCA" %}
                    <img src="{% static 'app/img/ugel-calca.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL CANAS" %}
                    <img src="{% static 'app/img/ugel-canas.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL CANCHIS" %}
                    <img src="{% static 'app/img/ugel-canchis.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL CHUMBIVILCAS" %}
                    <img src="{% static 'app/img/ugel-chumbivilcas.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL CUSCO" %}
                    <img src="{% static 'app/img/ugel-cusco.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL ESPINAR" %}
                    <img src="{% static 'app/img/ugel-espinar.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL LA CONVENCION" %}
                    <img src="{% static 'app/img/ugel-la-convencion.png' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL PARURO" %}
                    <img src="{% static 'app/img/ugel-paruro.png' %}" alt="Logo"style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;"> 
                {% elif request.user.ugel.nombre == "UGEL PISAC" %}
                    <img src="{% static 'app/img/ugel-pisac.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL QUISPICANCHI" %}
                    <img src="{% static 'app/img/ugel-quispicanchi.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% elif request.user.ugel.nombre == "UGEL URUBAMBA" %}
                    <img src="{% static 'app/img/ugel-urubamba.jpg' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% endif %}

                <div class="button-group">
                    <a href="{% url 'registrar_colegios' %}" class="button">
                        <img src="{% static 'app/registrar_colegios.png' %}" alt="Registrar Colegios">
                        <span>Registrar Colegios</span>
                    </a>
                    <a href="{% url 'registrar_director' %}" class="button">
                        <img src="{% static 'app/crear_usuario.png' %}" alt="Registrar Directores">
                        <span>Registrar Directores</span>
                    </a>
                    <a href="{% url 'control_usuarios' %}" class="button">
                        <img src="{% static 'app/control_usuarios.png' %}" alt="Control de Usuarios UGEL">
                        <span>Control de Usuarios UGEL</span>
                    </a>
                    <!--<a href='#' class = "button" onclick="openModal1()">
                        <img src="{% static 'app/cargar_directores.png' %}" alt="Carga de Datos de Directores">
                        <span>Carga de Datos de Directores</span>
                    </a>
                    -->
                    <a href="#" class="button" onclick="openModal()">
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Carga de Datos de Colegios">
                        <span>Carga de Datos IE</span>
                    </a>
                    <a href="{% static 'app/plantillas/colegios.csv' %}" class="button" download>
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Descargar plantilla de Colegios">
                        <span>Descargar Plantilla IE CSV</span>
                    </a>    
                    <a href="#" class="button" onclick="openModal1()">
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Carga de Datos de Directores">
                        <span>Carga de Datos Directores</span>
                    </a>
                    <a href="{% static 'app/plantillas/directores.csv' %}" class="button" download>
                        <img src="{% static 'app/carga_datos_colegios.png' %}" alt="Descargar Plantilla de Directores">
                        <span>Descargar Plantilla de Directores CSV</span>
                    </a>  
                </div>
            </section>
        {% elif tipo_usuario == "DIRECTOR" %}
            {%if colegio%}
                {%if colegio.foto_colegio %}
                    <img src="{{ colegio.foto_colegio.url }}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% else %}
                    <img src="{% static 'app/img/fotocolegio4.png' %}" alt="Logo" style="position: fixed; top: 100px; right: 20px; width: 100px; opacity: 1; pointer-events: none; z-index: 0;">
                {% endif %}
            {% else %}
                <p>no hay?</p>
            {% endif %}
            <section class="panel">
                <h3>Panel de Usuario Director</h3>
                <p>Colegio: {{ colegio.cen_edu }}</p>
                <p>Código Modular: {{ colegio.cod_mod }}</p>
                <div class="button-group">
                    <a href="{% url 'registrar_vacantes' %}" class="button">
                        <img src="{% static 'app/registrar_vacantes.png' %}" alt="Registrar Vacantes Disponibles">
                        <span>Registrar Vacantes Disponibles</span>
                    </a>
                    <a href="{% url 'editar_colegio' colegio.id %}" class="button">
                        <img src="{% static 'app/colegio.png' %}" alt="Editar Datos del Colegio">
                        <span>Editar Datos del Colegio</span>
                    </a>
                </div>
                    
            </section>
        {% else %}
            <p class="error-message">No tienes un tipo de usuario definido.</p>
        {% endif %}
    </main>

    <footer class="footer">
        <p>Design by GEREDU CENTRO DE COMPUTO</p>
    </footer>

    <!-- Modal para carga de CSV -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <h2>Cargar Datos de Colegios</h2>
            <form method="POST" enctype="multipart/form-data" action="{% url 'cargar_datos_colegios' %}">
                {% csrf_token %}
                <label for="csv_file">Seleccione un archivo CSV:</label>
                <input type="file" id="csv_file" name="csv_file" accept=".csv" required>
                <div class="modal-buttons">
                    <button type="submit" class="btn btn-primary">Cargar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
    <div id="uploadModal1" class="modal">
        <div class="modal-content">
            <h2>Cargar Datos de Directores</h2>
            <form method="POST" enctype="multipart/form-data" action="{% url 'cargar_directores' %}">
                {% csrf_token %}
                <label for="csv_file">Seleccione un archivo CSV:</label>
                <input type="file" id="csv_file" name="csv_file" accept=".csv" required>
                <div class="modal-buttons">
                    <button type="submit" class="btn btn-primary">Cargar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal1()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        function openModal() {
            document.getElementById("uploadModal").style.display = "flex";
        }

        function closeModal() {
            document.getElementById("uploadModal").style.display = "none";
        }
    </script>
    <script>
        function openModal1() {
            document.getElementById("uploadModal1").style.display = "flex";
        }

        function closeModal1() {
            document.getElementById("uploadModal1").style.display = "none";
        }
    </script>
    <div id="">

    </div>
</body>
</html>
